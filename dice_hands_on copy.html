<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Running DICE in Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="dice_hands_on copy_files/libs/clipboard/clipboard.min.js"></script>
<script src="dice_hands_on copy_files/libs/quarto-html/quarto.js"></script>
<script src="dice_hands_on copy_files/libs/quarto-html/popper.min.js"></script>
<script src="dice_hands_on copy_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="dice_hands_on copy_files/libs/quarto-html/anchor.min.js"></script>
<link href="dice_hands_on copy_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dice_hands_on copy_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="dice_hands_on copy_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="dice_hands_on copy_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="dice_hands_on copy_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Running DICE in Python</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this notebook, you will learn about the Dynamic Integrated Climate-Economy (DICE) model, a cornerstone in the history of climate economics. This notebook is addapted from the wonderful work by ClimateMatch at https://comptools.climatematch.io/.</p>
<p>We will explore the inner workings of the DICE model, starting with the foundational principles of economics: <em>utility</em> and <em>welfare</em> functions. You will also learn how these functions aggregate and weight the satisfaction derived from consumption across different societal groups. You will also learn how the these functions incorporate uncertain future utility into decision-making through <em>discount rates</em>. Valuing future states of the world allows the DICE model to place a value on its projections of future scenarios.</p>
<p>Later in the tutorial you will learn about damage functions, which combine climatological and economic knowledge to estimate how climate changes will affect economic productivity and the resultant well-being of society.</p>
<p>Finally, you will diagnose optimal planning within the DICE model, determining the best strategies for savings and emissions reduction rates (where <em>best</em> is with respect to a chosen utility and welfare function).</p>
<p>The overall objective of this tutorial is to provide a technical understanding of how parameters related to the distribution of value in society impact the optimal climate policy within a relatively simple IAM.</p>
<section id="imports-and-setup" class="level1">
<h1>Imports and Setup</h1>
<div class="cell" data-execution="{}" data-executioninfo="{&quot;elapsed&quot;:1460,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1682429063027,&quot;user&quot;:{&quot;displayName&quot;:&quot;Maximilian Puelma Touzel&quot;,&quot;userId&quot;:&quot;09308600515315501700&quot;},&quot;user_tz&quot;:240}" data-tags="[]">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> display, HTML</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> dicelib  <span class="co"># https://github.com/mptouzel/PyDICE</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ipywidgets <span class="im">as</span> widgets  <span class="co"># interactive display</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>plt.style.use(</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://raw.githubusercontent.com/ClimateMatchAcademy/course-content/main/cma.mplstyle"</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>sns.set_style(<span class="st">"ticks"</span>, {<span class="st">"axes.grid"</span>: <span class="va">False</span>})</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>params <span class="op">=</span> {<span class="st">"lines.linewidth"</span>: <span class="st">"3"</span>}</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>plt.rcParams.update(params)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>display(HTML(<span class="st">"&lt;style&gt;.container { width:100% !important; }&lt;/style&gt;"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="helper-functions" class="level1">
<h1>Helper Functions</h1>
<div class="cell" data-cellview="form" data-code_folding="[0]" data-execution="{}" data-tags="[]">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_future_returns(gamma, random_seed):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    np.random.seed(random_seed)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    undiscounted_utility_time_series <span class="op">=</span> np.random.rand(time_steps)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>].plot(undiscounted_utility_time_series)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    discounted_utility_time_series <span class="op">=</span> undiscounted_utility_time_series <span class="op">*</span> np.power(</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        gamma, np.arange(time_steps)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>].plot(discounted_utility_time_series)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    cumulsum_discounted_utility_time_series <span class="op">=</span> np.cumsum(discounted_utility_time_series)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].plot(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        cumulsum_discounted_utility_time_series <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> gamma),</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">"C1"</span>,</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="vs">r"discounted on $1/(1-\gamma)=$"</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> <span class="vs">r"$"</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> <span class="bu">str</span>(<span class="bu">round</span>(<span class="dv">1</span> <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> gamma)))</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> <span class="st">"$-step horizon"</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    cumulsum_undiscounted_utility_time_series <span class="op">=</span> np.cumsum(</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        undiscounted_utility_time_series</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].plot(</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        cumulsum_undiscounted_utility_time_series</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">/</span> cumulsum_undiscounted_utility_time_series[<span class="op">-</span><span class="dv">1</span>],</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="st">"undiscounted"</span>,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">"C0"</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].axvline(<span class="dv">1</span> <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> gamma), ls<span class="op">=</span><span class="st">"--"</span>, color<span class="op">=</span><span class="st">"k"</span>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>].set_ylabel(<span class="st">"utility at step t"</span>)</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>].set_xlim(<span class="dv">0</span>, time_steps)</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">0</span>].set_xlabel(<span class="st">"time steps into the future"</span>)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].legend(frameon<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].set_ylabel(<span class="st">"future return (normalized)"</span>)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].set_xlabel(<span class="st">"time steps into the future"</span>)</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    ax[<span class="dv">1</span>].set_xlim(<span class="dv">0</span>, time_steps)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>    fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-1-background-on-iam-economics-and-the-dice-model" class="level1">
<h1>Section 1: Background on IAM Economics and the DICE Model</h1>
<p>The <a href="https://www3.nd.edu/~nmark/Climate/DICE-simplified_2019.pdf">Dynamic Integrated Climate-Economy (DICE)</a> was the first prominent Integrated Assessment Model (IAM), a class of models economists use to inform policy decisions. Recall that IAMs couple a climate model to an economic model, allowing us to evaluate the two-way coupling between economic productivity and climate change severity. DICE is too idealized to be predictive, like other models (e.g., the limits to growth model <code>world3</code>), but DICE is still useful as a sandbox for exploring climate policy ideas, which is how we will use it here.</p>
<p>Let’s begin with a brief description of IAMs and the DICE model:</p>
<ul>
<li>DICE is a fully aggregated (i.e., non-spatial) model, but otherwise contains the essence of many key components of more complex IAMs.</li>
<li>Unlike <code>world3</code>, IAMs usually have <em>exogeneous</em> (externally set) times series for variables, in addition to fixed world system parameters. These exogeneous variables are assumed to be under our society’s control (e.g.&nbsp;mitigation).</li>
<li>IAMs come equipped with an objective function (a formula that calculates the quantity to be optimized). This function returns the value of a projected future obtained from running the world model under a given climate policy. This value is defined by time series of these exogeneous variables. In this sense, the objective function is what defines “good” in “good climate policy”.</li>
<li>The computation in an IAM is then an optimization of this objective as a function of the time series of these exogeneous variables over some fixed time window. In DICE, there are two exogeneous parameters:
<ul>
<li><strong><span class="math inline">\(\mu(t)\)</span></strong>: time-dependent mitigation rate (i.e.&nbsp;emissions reduction), which limits warming-caused damages</li>
<li><strong><span class="math inline">\(S(t)\)</span></strong>: savings rate, which drives capital investment</li>
</ul></li>
<li>The choices for the standard values of the parameters used in the DICE models have been critisized, and updated versions have been analyzed and proposed (<a href="https://www.nature.com/articles/s41558-020-0833-x">Hansel et al.&nbsp;2020</a>;<a href="https://www.nber.org/papers/w31112">Barrage &amp; Nordhaus 2023</a>). Here, we look at the standard DICE2016 version of the model.</li>
</ul>
<p>All DICE models (and most IAMs) are based on <em>Neo-classical economics</em>. This is an approach to economics that makes particular assumptions. For example, it is assumed that production, consumption, and valuation of goods and services are driven solely by the supply and demand model.</p>
<section id="section-1.1.1-utilities-at-different-levels-of-consumption" class="level3">
<h3 class="anchored" data-anchor-id="section-1.1.1-utilities-at-different-levels-of-consumption">Section 1.1.1: Utilities at Different Levels of Consumption</h3>
<p>We assume</p>
<ul>
<li><strong>A unit of consumption has less value to an individual, the more that individual tends to consume overall</strong></li>
</ul>
<p>The one parameter for the utility function used in DICE is <strong>elasticity</strong> (<span class="math inline">\(\alpha\)</span>), which is the measure of a variable’s sensitivity to change in another variable, in this case, how utility changes with consumption.</p>
<p>We can plot the utility function for different values of elasticity to assess how the sensitivity of utility to changes in comsumption varies with different elasticity values.</p>
<p>Specifically, win the code below, we will e will plot <span class="math display">\[U(c) = \frac{(c + 1)^{1-\alpha} - 1}{1-\alpha}\]</span> for different values of <span class="math inline">\(\alpha\)</span>.</p>
<div class="cell" data-execution="{}" data-executioninfo="{&quot;elapsed&quot;:2277,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1682429066684,&quot;user&quot;:{&quot;displayName&quot;:&quot;Maximilian Puelma Touzel&quot;,&quot;userId&quot;:&quot;09308600515315501700&quot;},&quot;user_tz&quot;:240}" data-tags="[]">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">1000</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> alpha <span class="kw">in</span> [<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span>, <span class="fl">1.45</span>]:</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> alpha <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        ax.plot(c, np.log(<span class="dv">1</span> <span class="op">+</span> c), label<span class="op">=</span><span class="vs">r"$\alpha="</span> <span class="op">+</span> <span class="bu">str</span>(alpha) <span class="op">+</span> <span class="st">"$"</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> alpha <span class="op">==</span> <span class="fl">1.45</span>:</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        ax.plot(</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            c,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>            ((c <span class="op">+</span> <span class="dv">1</span>) <span class="op">**</span> (<span class="dv">1</span> <span class="op">-</span> alpha) <span class="op">-</span> <span class="dv">1</span>) <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> alpha),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            label<span class="op">=</span><span class="vs">r"$\alpha="</span> <span class="op">+</span> <span class="bu">str</span>(alpha) <span class="op">+</span> <span class="st">"$(DICE)"</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        ax.plot(</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>            c,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            ((c <span class="op">+</span> <span class="dv">1</span>) <span class="op">**</span> (<span class="dv">1</span> <span class="op">-</span> alpha) <span class="op">-</span> <span class="dv">1</span>) <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> alpha),</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>            label<span class="op">=</span><span class="vs">r"$\alpha="</span> <span class="op">+</span> <span class="bu">str</span>(alpha) <span class="op">+</span> <span class="st">"$"</span>,</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="dv">0</span>, <span class="dv">10</span>], [<span class="dv">0</span>, <span class="dv">10</span>], <span class="st">"k--"</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>ax.legend(frameon<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"consumption, c"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"utility, u(c)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The plot you just made shows the relationship between consumption and utility for four different values of elasticity. For all values of elasticity, as consumption increases, the utility also increases, as we discussed above. However, let’s make some observations about how changes in elasticity affect this relationship. For lower elasticity values (i.e.&nbsp;<span class="math inline">\(\alpha\)</span> = 1 shown in blue) an increase in consumption results in a stronger increase in utility. In constrast, for high elasticity values (i.e.&nbsp;<span class="math inline">\(\alpha\)</span> = 1.45 shown in red), such as what is used in the DICE model, an increase in consumption results in only a smaller increase in utility.</p>
<section id="questions-1.1.1" class="level4">
<h4 class="anchored" data-anchor-id="questions-1.1.1">Questions 1.1.1</h4>
<ol type="1">
<li>What do you think the function looks like for <span class="math inline">\(\alpha=0\)</span>?</li>
</ol>
</section>
</section>
<section id="utility-and-discounting" class="level3">
<h3 class="anchored" data-anchor-id="utility-and-discounting">Utility and Discounting</h3>
<p>In DICE, we assume individuals are of the same type, i.e.&nbsp;a population of such individuals, and that <strong>Utilities of individuals of the same type sum</strong></p>
<p>We also will discount our choices in the future via the discount rate, as discussed in previous classes. But to reiterate, <strong>Utilities in the near future are valued more than those in the far future</strong></p>
<p>We have seen that discounting greatly depends on the <strong>discount factor</strong> (<span class="math inline">\(\gamma\)</span> (‘gamma’), which is a number just less than 1, e.g.&nbsp;0.95). The discount factor is raised to the power of time (in years) into the future to give the discount rate at that future time: - after 1 year <span class="math inline">\((0.95)^1=0.95\)</span> - after 2 years <span class="math inline">\((0.95)^2=0.90\)</span> - after 10 years <span class="math inline">\((0.95)\)</span><sup>10</sup><span class="math inline">\(=0.60\)</span></p>
<p>The <em>return</em> is the sum of future utilities, which is taken as the value of that future projection. If these utilies are discounted, their sum is called the <em>discounted return</em>. The following code will show an illustration of the effect of temporal discounting on future utilities and the return up to a given number of time steps into the future for a discount factor of <span class="math inline">\(\gamma\)</span> = 0.95.</p>
<p><strong>Here we see the value of future utility means almost nothing to the present-day decision</strong></p>
<div class="cell" data-execution="{}" data-tags="[]">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>time_steps <span class="op">=</span> <span class="dv">300</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>gamma <span class="op">=</span> <span class="fl">0.95</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>random_seed <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>plot_future_returns(gamma, random_seed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In both plots, the blue lines are undiscounted case (i.e.&nbsp;without the effect of temporal discounting) and the orange lines are the discounted case (i.e.&nbsp;including the effect of temporal discounting).</p>
<p>The figure on the left shows utility at each time step. In both the undiscounted scenario (blue) and the discounted scenario (orange), projected utilities are variable and uncertain. Notice that in the unsidcounted case, the average size of these utilities stays the same. In contrast, in the discounted case the typical size of utility rapidly decreases to zero, reflecting the effect of temporal discounting (i.e.&nbsp;the devaluation of utilities in the far future).</p>
<p>The figure on the right shows changes in return (i.e.&nbsp;the cumulative sum of future utilities) over time. The black dashed line shows the effective time horizon beyond which rewards are ignored in the discounted case for this chosen value of the discount factor, <span class="math inline">\(\gamma\)</span> (this time is set by the natural convention of when the return gets to a fraction (<span class="math inline">\(1-1/e\approx0.64\)</span>) of the final value). Beyond the time horizon, the future discounted return (orange) reaches saturation, and no additional utility from further time steps contributes to the overall value. In contrast, in the undiscounted case (blue), all future times are equally important, and the return grows linearly with the maximum time considered for computing utilities.</p>
<section id="discussion-question" class="level4">
<h4 class="anchored" data-anchor-id="discussion-question">Discussion question</h4>
<p>Play around with the code above and see what discount factor would be necessary to have discounted utility not fall nearly to zero in the terminal year. What was it?</p>
</section>
</section>
</section>
<section id="section-2-damage-functions" class="level1">
<h1>Section 2: Damage Functions</h1>
<p>Now that we have familiarized ourselves with some of the main components of IAMs and the DICE model, we can begin to explore another important component: the <strong>damage function</strong>. The damage function is a central model component that connects climate and socio-economic processes in integrated assessment models.</p>
<p>Damage functions are the objects in IAMs that dictate how changes in temperature affect production (e.g.&nbsp;through direct weather-related damages). They play a crucial role in determining the model’s projections.</p>
<p>The standard form is a deterministic continuous function that maps changes in temperature, <span class="math inline">\(\Delta T\)</span>, to the fraction of productivity that is destroyed by climate change every year, <span class="math inline">\(\Omega\)</span>. The standard parametrization is a quadratic dependence <span class="math display">\[\Omega=a \times (\Delta T)^2\]</span> where <span class="math inline">\(a\)</span> is some small constant (e.g.&nbsp;0.001) whose value is set by regression of GDP and temperature over geographic and historical variation. Let’s plot this function.</p>
<div class="cell" data-execution="{}" data-executioninfo="{&quot;elapsed&quot;:805,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1682429069667,&quot;user&quot;:{&quot;displayName&quot;:&quot;Maximilian Puelma Touzel&quot;,&quot;userId&quot;:&quot;09308600515315501700&quot;},&quot;user_tz&quot;:240}" data-tags="[]">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">1000</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>a1DICE <span class="op">=</span> <span class="fl">0.00236</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>a2 <span class="op">=</span> <span class="fl">2.00</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> a1 <span class="kw">in</span> [a1DICE, <span class="fl">1e-2</span>, <span class="fl">1e-1</span>]:</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    ax.plot(</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>        T,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        a1 <span class="op">*</span> (T<span class="op">**</span>a2),</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="vs">r"$a_1="</span> <span class="op">+</span> <span class="bu">str</span>(a1) <span class="op">+</span> <span class="st">"$"</span> <span class="op">+</span> (<span class="st">"(DICE2023)"</span> <span class="cf">if</span> a1 <span class="op">==</span> a1DICE <span class="cf">else</span> <span class="st">""</span>),</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>ax.legend(frameon<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"temperature change, $\Delta T$"</span>)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"fraction productivity destroyed"</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="dv">0</span>, <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Observe how larger temperature changes lead to a larger fraction of productivity destroyed due to the damages caused by that temperature. The damage at a given temperature scales linearly with the parameter <span class="math inline">\(a_1\)</span>, and exponentially with the parameters <span class="math inline">\(a_2\)</span>.</p>
<p>There are at least two fundamental problems with damage functions (for more see <a href="https://www.tandfonline.com/doi/full/10.1080/14747731.2020.1807856"><em>The appallingly bad neoclassical economics of climate change</em> by S. Keen in <em>Globalizations</em> (2020)</a>): 1. As mathematical model objects, they are likely too simple to be useful predictors in characterizing climate damages in sufficient complexity. 2. They arise from a poorly validated model-fitting procedure. In particular, it relies on ad hoc functional forms and the relevance of historical and geographical variability to future variability.</p>
<div class="cell" data-execution="{}">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to_remove explanation</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">1. You can consider a few reasons such as nonlinearity, regional differences, socioeconomic factors, and non-monetary damages. In particular, one could imagine subway systems being minimally affected until the sea level rises to the level of entrances to the subway at which point the subway is completely flooded.</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">2. Significant in past and future: reduced worker productivity; Significant only in future: Heat-induced crop failures</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Despite these problems highlighting a pressing need to improve how we formulate climate damages, damage functions allow economists within the neoclassical paradigm to start seriously considering the damaging effects of climate change. After a few decades of economists using overly optimistic damage functions that downplayed the damaging effects of climate change, current research on damage functions is striving to incorporate more realism and better estimation.</p>
<p>For more contemporary damage functions see <a href="https://www.nature.com/articles/s41558-023-01636-1">van der Wijst et al.&nbsp;<em>Nat. Clim. Change</em> (2023)</a>. Note that even this modern publication is hindered by the <a href="https://en.wikipedia.org/wiki/McNamara_fallacy">McNamara Fallacy</a> of leaving out things that are hard to measure. The authors state: “The climate change impacts did not include potential losses originated in ecosystems or in the health sector. This is motivated by the difficulty in addressing the non-market dimension of those impacts with a ‘market-transaction-based’ model such as CGE. Also, catastrophic events were not considered, even though some ‘extremes’ (riverine floods) were included.”</p>
<section id="section-2.1-iam-model-summary" class="level2">
<h2 class="anchored" data-anchor-id="section-2.1-iam-model-summary">Section 2.1: IAM Model Summary</h2>
<p>We’ve now explored both the utility function and damage function components of IAMs. Before we move on to actually running the DICE model, let’s summarize what we’ve learned so far about IAMs, specifically regarding the economy and climate models:</p>
<p>The economy model in most IAMs is a capital accumulation model. - Capital (<span class="math inline">\(K\)</span>) combines with a laboring population and technology to generate productivity (<span class="math inline">\(Y\)</span>) that is hindered by climate damage. - A savings rate, <span class="math inline">\(S\)</span>, drives capital accumulation, while the rest is consumed. Welfare is determined by consumption. - Climate action is formulated by a mitigation rate, <span class="math inline">\(\mu\)</span>, which along with the savings rate, <span class="math inline">\(S\)</span>, are the two exogeneous control parameters in the model and are used to maximize welfare.</p>
<p>The climate model in DICE interacts with the economy model via the following equation: <span class="math display">\[E_\mathrm{ind}=(1-\mu)\sigma Y,\]</span> - Productivity (<span class="math inline">\(Y\)</span>) generates industrial emissions (<span class="math inline">\(E_\mathrm{ind}\)</span>), where the <span class="math inline">\(1-\mu\)</span> factor accounts for a reduction of the carbon intensity of production, <span class="math inline">\(\sigma\)</span>, via supply-side mitigation measures (e.g.&nbsp;increased efficiency). - The productivity <span class="math inline">\(Y\)</span> rather than output production (<span class="math inline">\(Q\)</span>) is used here because damages aren’t included. - Damages aren’t included because the emissions produced in the process of capital production occur before climate change has a chance to inflict damage on the produced output. - These industrial emissions combine with natural emissions to drive the temperature changes appearing in the damage function, closing the economy-climate loop.</p>
</section>
<section id="section-2.2-optimal-planning" class="level2">
<h2 class="anchored" data-anchor-id="section-2.2-optimal-planning">Section 2.2: Optimal Planning</h2>
<p>The goal of the model is to maximize the overall value of a projected future, <span class="math inline">\(V\)</span>, within the bounds of mitigation rate, <span class="math inline">\(\mu\)</span>, and savings rate, <span class="math inline">\(S\)</span>, time courses (while considering constraints on <span class="math inline">\(\mu\)</span> and <span class="math inline">\(S\)</span>). This approach is known as <strong>optimal planning</strong>. But why does this “sweet spot” in which overall value is maximized exist? Increasing savings boosts investment and productivity, but higher production leads to higher emissions, resulting in increased temperature and damages that reduce production. Mitigation costs counterbalance this effect, creating a trade-off. As a result, there typically exists a meaningful joint time series of <span class="math inline">\(\mu_t\)</span> and <span class="math inline">\(S_t\)</span> that maximizes <span class="math inline">\(V\)</span>. Due to the discount factor <span class="math inline">\(\gamma\)</span>, <span class="math inline">\(V\)</span> depends on the future consumption sequence (non-invested production) within a few multiples of the time horizon, approximately <span class="math inline">\(1/(1-\gamma)\)</span> time steps into the future.</p>
<p>We gone over many variables so far in this tutorial. Here is a list of variables used fore easier reference: - <span class="math inline">\(K\)</span> capital - <span class="math inline">\(Y\)</span> productivity - <span class="math inline">\(S\)</span> savings rate - <span class="math inline">\(\mu\)</span> mitigation rate - <span class="math inline">\(E\)</span> emissions - <span class="math inline">\(\sigma\)</span> carbon intensity of production - <span class="math inline">\(Q\)</span> production - <span class="math inline">\(\gamma\)</span> discount factor - <span class="math inline">\(V\)</span> value</p>
<p>If you’d like to explore the mathematical equations behind these models in more detail, please refer to the information in the “Further Reading” section for this day.</p>
</section>
</section>
<section id="section-3-dice-simulations" class="level1">
<h1>Section 3: DICE Simulations</h1>
<p>Now, let’s move to the DICE model that gives us some control over our emissions and consumption to see the effect of varying the parameters arising from the above design choices.</p>
<p>I’ve forked an existing <code>Python</code> implementation of the <a href="https://github.com/hazem2410/PyDICE">DICE2016 model</a> and refactored it into a class (defined in <a href="https://github.com/mptouzel/PyDICE/blob/master/dicelib.py"><code>dicelib.py</code></a>) and made a few other changes to make it easier to vary parameters. We’ll use that <a href="https://github.com/mptouzel/PyDICE/">forked version</a> in this tutorial. Note that the DICE model was recently updated (<a href="https://www.nber.org/papers/w31112">DICE2023</a>).</p>
<p>The model equations are described in a <a href="https://github.com/hazem2410/PyDICE/blob/master/PyDICE2016.pdf">document</a> associated with the exising <code>Python</code> implementation.</p>
<section id="section-3.1-case-1-standard-run" class="level2">
<h2 class="anchored" data-anchor-id="section-3.1-case-1-standard-run">Section 3.1: Case 1 Standard Run</h2>
<p>Let’s run the standard run of the DICE model:</p>
<div class="cell" data-execution="{}" data-executioninfo="{&quot;elapsed&quot;:72615,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1682429142278,&quot;user&quot;:{&quot;displayName&quot;:&quot;Maximilian Puelma Touzel&quot;,&quot;userId&quot;:&quot;09308600515315501700&quot;},&quot;user_tz&quot;:240}" data-tags="[]">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>dice_std <span class="op">=</span> dicelib.DICE()  <span class="co"># create an instance of the model</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>dice_std.init_parameters()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>dice_std.init_variables()</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>controls_start_std, controls_bounds_std <span class="op">=</span> dice_std.get_control_bounds_and_startvalue()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>dice_std.optimize_controls(controls_start_std, controls_bounds_std)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Before assessing the results, let’s first check that the optimal control solution is within the bounds we set. To do so, let’s assess the mitigation rate and savings rate:</p>
<div class="cell" data-execution="{}" data-executioninfo="{&quot;elapsed&quot;:757,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1682429143004,&quot;user&quot;:{&quot;displayName&quot;:&quot;Maximilian Puelma Touzel&quot;,&quot;userId&quot;:&quot;09308600515315501700&quot;},&quot;user_tz&quot;:240}" data-tags="[]">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>max_year <span class="op">=</span> <span class="dv">2100</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>TT <span class="op">=</span> dice_std.TT</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>NT <span class="op">=</span> dice_std.NT</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>upp, low <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>controls_bounds_std[:NT])</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].plot(TT, dice_std.optimal_controls[:NT], label<span class="op">=</span><span class="st">"optimal"</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].plot(TT, upp, <span class="st">"k--"</span>, label<span class="op">=</span><span class="st">"bounds"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].plot(TT, low, <span class="st">"k--"</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">"mitigation rate"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_xlim(<span class="dv">2000</span>, max_year)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].legend(frameon<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>upp, low <span class="op">=</span> <span class="bu">zip</span>(<span class="op">*</span>controls_bounds_std[NT:])</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].plot(TT, dice_std.optimal_controls[NT:])</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].plot(TT, upp, <span class="st">"k--"</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].plot(TT, low, <span class="st">"k--"</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylabel(<span class="st">"savings rate"</span>)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xlabel(<span class="st">"year"</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xlim(<span class="dv">2000</span>, max_year)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>fig.tight_layout()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The model incorporates the effects of negative emission technologies by allowing the mitigation rate (via the bounds) to exceed 1 around the year 2140. It is worth noting that the solution explicitly utilizes this feature and would do so even before 2100 if permitted. The decision to include this behavior was made by the modellers who realized that it enabled feasible solutions for the higher forcing SSP scenarios that were previously unattainable.</p>
<p>At the time, there was a lively debate surrounding this decision, although it was largely in favor of allowing mitigation rates greater than 1. As a result, such rates have become a standard feature in many models for high forcing regimes. However, it is important to acknowledge that there have been arguments against this practice, as discussed in <a href="https://DOI:10.1126/science.aah45">Anderson &amp; Peters, 2006</a>.</p>
<p>In the final two tutorials, we will explore sociological aspects such as these.</p>
<p>Now, let’s examine the remaining variables of the DICE model:</p>
<div class="cell" data-execution="{}" data-executioninfo="{&quot;elapsed&quot;:1122,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1682429144121,&quot;user&quot;:{&quot;displayName&quot;:&quot;Maximilian Puelma Touzel&quot;,&quot;userId&quot;:&quot;09308600515315501700&quot;},&quot;user_tz&quot;:240}" data-tags="[]">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dice_std.roll_out(dice_std.optimal_controls)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>dice_std.plot_run(<span class="st">"standard run"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this plot, the mitigation rate we looked at earlier is now referred to as the “Em rate” (orange line), which closely follows the patter of the carbon price (green line). Similarly, the rate of CO2 emissions (gray line) aligns with the industrial emissions (red line). Cumulative emissions (pink line) reach their peak around 2090, considering that negative emission technologies (NETs) are not employed until 2140.</p>
</section>
<section id="hands-on-practice-modifying-the-damage-functions" class="level2">
<h2 class="anchored" data-anchor-id="hands-on-practice-modifying-the-damage-functions">Hands on practice: Modifying the Damage Functions</h2>
<p>Change the strength of the nonlinearity in the damage function by changing the exponent from 2 to 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reminder on some key python terms:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">## To iterate ver a list, you use a for loop:</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]:</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">## The first step will be create a new dice model object. You will then call methods from that object like this: dice.method_name()</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">## Second step, use the init methods, but ensuring you use the correct damage function parameter</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">## One useful line you'll want is controls_start, controls_bounds = dice.get_control_bounds_and_startvalue()</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">## This just sets the two control variables to the starting values.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>